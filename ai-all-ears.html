<!doctype html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>AI All Ears | Business Savvy Website Builder</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="description" content="Talk or type your vision. AI All Ears converts it into a build-ready website project brief." />

  <!-- STYLE -->
  <link rel="stylesheet" href="style.css" />

  <style>
    /* minimal fallback styles so page never breaks */
    body { font-family: system-ui, -apple-system, BlinkMacSystemFont, sans-serif; margin:0; background:#0b0f1a; color:#eaeaf0; }
    .container { max-width:1200px; margin:auto; padding:24px; }
    .card { background:#11162a; border-radius:18px; padding:24px; margin-bottom:24px; }
    .card-inner { margin-top:20px; background:#0d1224; }
    .pill-row { display:flex; gap:12px; flex-wrap:wrap; margin-top:16px; }
    .pill { padding:12px 18px; border-radius:999px; border:none; cursor:pointer; font-weight:600; }
    .pill-primary { background:#4f7cff; color:#fff; }
    .pill-ghost { background:transparent; border:1px solid #2a3566; color:#cfd6ff; }
    .input, .textarea, select { width:100%; padding:12px; border-radius:12px; border:1px solid #2a3566; background:#0b0f1a; color:#fff; }
    .label { font-weight:600; margin:12px 0 6px; display:block; }
    .checkbox { display:flex; gap:10px; align-items:center; margin-top:12px; }
    .toolbar { display:grid; grid-template-columns:repeat(auto-fit,minmax(180px,1fr)); gap:12px; margin:16px 0; }
    .status { margin-top:10px; display:flex; align-items:center; gap:8px; }
    .dot { width:10px; height:10px; border-radius:50%; background:#555; }
    .dot.on { background:#3cff9a; box-shadow:0 0 10px #3cff9a; }
    .liveBox, pre { background:#070b16; padding:14px; border-radius:12px; border:1px solid #2a3566; white-space:pre-wrap; }
    .hero-top { display:flex; justify-content:space-between; gap:16px; flex-wrap:wrap; }
    .badge { background:#1b2350; padding:6px 12px; border-radius:999px; font-size:12px; }
    .hero-badges { display:flex; gap:8px; flex-wrap:wrap; }
    .qRow { margin-bottom:14px; }
    footer { text-align:center; opacity:.7; padding:24px 0; }
  </style>
</head>

<body>
<div class="page">

  <!-- ================= HEADER ================= -->
  <header class="card">
    <div class="container">
      <h2>Business Savvy <strong>AI</strong></h2>
      <p>AI All Ears ‚Äî turn ideas into build-ready website plans</p>
    </div>
  </header>

  <!-- ================= MAIN ================= -->
  <main class="container">

    <!-- ================= HERO ================= -->
    <section class="card hero">

      <div class="hero-top">
        <div>
          <h1>AI All Ears üéß</h1>
          <p>Dreamers talk. Technicals type. You get a clean project brief.</p>
        </div>
        <div class="hero-badges">
          <span class="badge" id="badgeMode">Modes: voice, text</span>
          <span class="badge" id="badgeAutosave">Autosave: On</span>
          <span class="badge" id="badgeVersion">v1.0</span>
        </div>
      </div>

      <!-- SETTINGS -->
      <div class="toolbar">
        <div>
          <label class="label" for="lang">Language</label>
          <select id="lang"></select>
        </div>

        <div>
          <label class="label" for="tier">Tier</label>
          <select id="tier"></select>
        </div>

        <div>
          <label class="label" for="industry">Industry</label>
          <input id="industry" class="input" placeholder="credit repair, agency, roofing‚Ä¶" />
        </div>

        <div>
          <label class="checkbox">
            <input id="continuous" type="checkbox" checked /> Continuous
          </label>
          <label class="checkbox">
            <input id="interim" type="checkbox" checked /> Live preview
          </label>
        </div>

        <div>
          <strong><span id="wordCount">0</span> words</strong>
        </div>
      </div>

      <!-- MIC CONTROLS -->
      <div class="pill-row">
        <button id="btnStart" class="pill pill-primary" type="button">üéôÔ∏è Start</button>
        <button id="btnStop" class="pill pill-ghost" type="button" disabled>‚èπ Stop</button>
        <button id="btnClear" class="pill pill-ghost" type="button">üßº Clear</button>
        <button id="btnUndo" class="pill pill-ghost" type="button" disabled>‚Ü© Undo</button>
      </div>

      <div class="status">
        <span id="micDot" class="dot"></span>
        <span id="statusText">Mic idle</span>
      </div>

      <!-- MAIN INPUT -->
      <label class="label" for="inputText">Your Vision</label>
      <textarea id="inputText" class="textarea" rows="8"
        placeholder="Explain your website idea, features, goals, vibe‚Ä¶"></textarea>

      <!-- LIVE TRANSCRIPT -->
      <div style="margin-top:16px;">
        <label class="label">Live transcript</label>
        <div id="liveText" class="liveBox">‚Äî</div>
        <button id="btnInsertLive" class="pill pill-ghost" type="button" disabled style="margin-top:8px;">‚ûï Insert Live</button>
      </div>

      <!-- QUICK INTERVIEW -->
      <div class="card card-inner">
        <h3>Quick Interview (optional)</h3>
        <div id="questionList"></div>
      </div>

      <!-- CONSENT -->
      <label class="checkbox">
        <input id="consent" type="checkbox" />
        I understand this is not medical / legal / financial advice.
      </label>

      <!-- ACTION BUTTONS -->
      <div class="pill-row">
        <button id="btnBrief" class="pill pill-primary" type="button">‚ö° Generate Project Brief</button>
        <button id="btnCopyBrief" class="pill" type="button" disabled>üìã Copy Brief</button>
        <button id="btnDownloadBrief" class="pill pill-ghost" type="button" disabled>‚¨á Download .txt</button>
      </div>

    </section>

    <!-- ================= OUTPUT ================= -->
    <section class="card">
      <h2>Your Build-Ready Brief</h2>
      <pre id="briefOut">Nothing yet.</pre>
    </section>

    <section class="card">
      <h2>Structured JSON</h2>
      <pre id="jsonOut">‚Äî</pre>
    </section>

  </main>

  <footer>
    ¬© <span id="year"></span> Business Savvy AI
  </footer>
</div>

<!-- ================= EMBEDDED CONFIG ================= -->
<script type="application/json" id="all-ears-config">
{
  "app": { "version": "1.0", "modes": ["voice","text"], "autosave": true, "defaultLanguage": "en-US" },
  "input": { "supportedLanguages": ["en-US","en-GB","es-US"] },
  "safety": { "requireConsent": true }
}
</script>

<script type="application/json" id="all-ears-tiers">
{
  "tiers": {
    "starter": { "label":"Starter","pages":3,"features":["Basic site","Contact form"],"cta":"Launch Fast" },
    "pro": { "label":"Pro","pages":7,"features":["Booking","Automation"],"cta":"Scale Business" },
    "elite": { "label":"Elite","pages":12,"features":["Custom UI","Branding","AI"],"cta":"Build Empire" }
  }
}
</script>

<script type="application/json" id="all-ears-questions">
{
  "coreQuestions": [
    { "id":"business_type","question":"What is your business?" },
    { "id":"primary_goal","question":"What should the website achieve?" },
    { "id":"features","question":"What features must it have?" }
  ]
}
</script>

<script>
  // expose config
  window.ALL_EARS = {
    config: JSON.parse(document.getElementById("all-ears-config").textContent),
    tiers: JSON.parse(document.getElementById("all-ears-tiers").textContent),
    questions: JSON.parse(document.getElementById("all-ears-questions").textContent)
  };

  // safe refs
  const $lang = document.getElementById("lang");
  const $tier = document.getElementById("tier");
  const $questionList = document.getElementById("questionList");

  // populate selects + questions
  const cfg = window.ALL_EARS.config;
  document.getElementById("year").textContent = new Date().getFullYear();

  cfg.input.supportedLanguages.forEach(l => {
    const o = document.createElement("option");
    o.value = l;
    o.textContent = l;
    if (l === cfg.app.defaultLanguage) o.selected = true;
    $lang.appendChild(o);
  });

  Object.entries(window.ALL_EARS.tiers.tiers).forEach(([k,v]) => {
    const o = document.createElement("option");
    o.value = k;
    o.textContent = `${v.label} (${v.pages} pages)`;
    $tier.appendChild(o);
  });

  window.ALL_EARS.questions.coreQuestions.forEach(q => {
    const d = document.createElement("div");
    d.className = "qRow";
    d.innerHTML = `
      <label class="label">${q.question}</label>
      <input class="input qInput" data-qid="${q.id}" placeholder="Type your answer..." />
    `;
    $questionList.appendChild(d);
  });
</script>

<!-- ================= MAIN LOGIC ================= -->
<script defer src="./all-ears.js"></script>

</body>
</html>
